{"payload":{"allShortcutsEnabled":false,"fileTree":{"db":{"items":[{"name":"db_create","path":"db/db_create","contentType":"directory"},{"name":"db.py","path":"db/db.py","contentType":"file"}],"totalCount":2},"":{"items":[{"name":"db","path":"db","contentType":"directory"},{"name":"templates","path":"templates","contentType":"directory"},{"name":".gitignore","path":".gitignore","contentType":"file"},{"name":"5.jpg","path":"5.jpg","contentType":"file"},{"name":"5_noise.jpg","path":"5_noise.jpg","contentType":"file"},{"name":"README.md","path":"README.md","contentType":"file"},{"name":"ac_2.pth","path":"ac_2.pth","contentType":"file"},{"name":"app.py","path":"app.py","contentType":"file"},{"name":"arch.py","path":"arch.py","contentType":"file"},{"name":"models.py","path":"models.py","contentType":"file"},{"name":"pytorch_autoencoder.ipynb","path":"pytorch_autoencoder.ipynb","contentType":"file"},{"name":"requirements.txt","path":"requirements.txt","contentType":"file"},{"name":"test_db.py","path":"test_db.py","contentType":"file"},{"name":"utils.py","path":"utils.py","contentType":"file"},{"name":"Безымянный.png","path":"Безымянный.png","contentType":"file"}],"totalCount":15}},"fileTreeProcessingTime":3.756521,"foldersToFetch":[],"reducedMotionEnabled":null,"repo":{"id":716701850,"defaultBranch":"main","name":"InnopolysFinal","ownerLogin":"UserNameBlaBlaBlaBla","currentUserCanPush":false,"isFork":false,"isEmpty":false,"createdAt":"2023-11-09T17:30:50.000Z","ownerAvatar":"https://avatars.githubusercontent.com/u/53517548?v=4","public":true,"private":false,"isOrgOwned":false},"symbolsExpanded":false,"treeExpanded":true,"refInfo":{"name":"main","listCacheKey":"v0:1699551051.830463","canEdit":false,"refType":"branch","currentOid":"dd9fd985b26a9378a892e2e87ac468425bf3ef33"},"path":"db/db.py","currentUser":null,"blob":{"rawLines":["import sqlite3","from models import *","","class DbManager:","    def __init__(self, db_path):","        self.db_path = db_path","        self.con = sqlite3.connect(db_path)","        self.cur = self.con.cursor()","        ","    def get_all_history(self):","        for row in self.cur.execute(\"SELECT * FROM usage_history ORDER BY id\"):","            print(row)","            ","    def insert_history(self, date, time):","        self.cur.execute(f\"INSERT INTO usage_history(date, time) VALUES (?, ?)\", (date, time))","        self.con.commit()","        ","    def insert_result(self, original_file_path, processed_file_path, usage_id):","        self.cur.execute(f\"INSERT INTO result_history(original_path, processed_path, usage_id) VALUES (?, ?, ?)\", (original_file_path, processed_file_path, usage_id))","        self.con.commit()","        ","    def get_all_result_with_usage(self):","        rows = self.cur.execute(f\"SELECT result_history.original_path, result_history.processed_path, usage_history.date, usage_history.time FROM result_history INNER JOIN usage_history ON usage_history.id == result_history.usage_id\")","        result = []","        for row in rows:","            result.append(Result(row[0], row[1], row[2], row[3]))","        return result","        ","    def get_last_inserted_row_id(self):","        return self.cur.lastrowid"],"stylingDirectives":[[{"start":0,"end":6,"cssClass":"pl-k"},{"start":7,"end":14,"cssClass":"pl-s1"}],[{"start":0,"end":4,"cssClass":"pl-k"},{"start":5,"end":11,"cssClass":"pl-s1"},{"start":12,"end":18,"cssClass":"pl-k"},{"start":19,"end":20,"cssClass":"pl-c1"}],[],[{"start":0,"end":5,"cssClass":"pl-k"},{"start":6,"end":15,"cssClass":"pl-v"}],[{"start":4,"end":7,"cssClass":"pl-k"},{"start":8,"end":16,"cssClass":"pl-en"},{"start":17,"end":21,"cssClass":"pl-s1"},{"start":23,"end":30,"cssClass":"pl-s1"}],[{"start":8,"end":12,"cssClass":"pl-s1"},{"start":13,"end":20,"cssClass":"pl-s1"},{"start":21,"end":22,"cssClass":"pl-c1"},{"start":23,"end":30,"cssClass":"pl-s1"}],[{"start":8,"end":12,"cssClass":"pl-s1"},{"start":13,"end":16,"cssClass":"pl-s1"},{"start":17,"end":18,"cssClass":"pl-c1"},{"start":19,"end":26,"cssClass":"pl-s1"},{"start":27,"end":34,"cssClass":"pl-en"},{"start":35,"end":42,"cssClass":"pl-s1"}],[{"start":8,"end":12,"cssClass":"pl-s1"},{"start":13,"end":16,"cssClass":"pl-s1"},{"start":17,"end":18,"cssClass":"pl-c1"},{"start":19,"end":23,"cssClass":"pl-s1"},{"start":24,"end":27,"cssClass":"pl-s1"},{"start":28,"end":34,"cssClass":"pl-en"}],[],[{"start":4,"end":7,"cssClass":"pl-k"},{"start":8,"end":23,"cssClass":"pl-en"},{"start":24,"end":28,"cssClass":"pl-s1"}],[{"start":8,"end":11,"cssClass":"pl-k"},{"start":12,"end":15,"cssClass":"pl-s1"},{"start":16,"end":18,"cssClass":"pl-c1"},{"start":19,"end":23,"cssClass":"pl-s1"},{"start":24,"end":27,"cssClass":"pl-s1"},{"start":28,"end":35,"cssClass":"pl-en"},{"start":36,"end":77,"cssClass":"pl-s"}],[{"start":12,"end":17,"cssClass":"pl-en"},{"start":18,"end":21,"cssClass":"pl-s1"}],[],[{"start":4,"end":7,"cssClass":"pl-k"},{"start":8,"end":22,"cssClass":"pl-en"},{"start":23,"end":27,"cssClass":"pl-s1"},{"start":29,"end":33,"cssClass":"pl-s1"},{"start":35,"end":39,"cssClass":"pl-s1"}],[{"start":8,"end":12,"cssClass":"pl-s1"},{"start":13,"end":16,"cssClass":"pl-s1"},{"start":17,"end":24,"cssClass":"pl-en"},{"start":25,"end":79,"cssClass":"pl-s"},{"start":82,"end":86,"cssClass":"pl-s1"},{"start":88,"end":92,"cssClass":"pl-s1"}],[{"start":8,"end":12,"cssClass":"pl-s1"},{"start":13,"end":16,"cssClass":"pl-s1"},{"start":17,"end":23,"cssClass":"pl-en"}],[],[{"start":4,"end":7,"cssClass":"pl-k"},{"start":8,"end":21,"cssClass":"pl-en"},{"start":22,"end":26,"cssClass":"pl-s1"},{"start":28,"end":46,"cssClass":"pl-s1"},{"start":48,"end":67,"cssClass":"pl-s1"},{"start":69,"end":77,"cssClass":"pl-s1"}],[{"start":8,"end":12,"cssClass":"pl-s1"},{"start":13,"end":16,"cssClass":"pl-s1"},{"start":17,"end":24,"cssClass":"pl-en"},{"start":25,"end":112,"cssClass":"pl-s"},{"start":115,"end":133,"cssClass":"pl-s1"},{"start":135,"end":154,"cssClass":"pl-s1"},{"start":156,"end":164,"cssClass":"pl-s1"}],[{"start":8,"end":12,"cssClass":"pl-s1"},{"start":13,"end":16,"cssClass":"pl-s1"},{"start":17,"end":23,"cssClass":"pl-en"}],[],[{"start":4,"end":7,"cssClass":"pl-k"},{"start":8,"end":33,"cssClass":"pl-en"},{"start":34,"end":38,"cssClass":"pl-s1"}],[{"start":8,"end":12,"cssClass":"pl-s1"},{"start":13,"end":14,"cssClass":"pl-c1"},{"start":15,"end":19,"cssClass":"pl-s1"},{"start":20,"end":23,"cssClass":"pl-s1"},{"start":24,"end":31,"cssClass":"pl-en"},{"start":32,"end":233,"cssClass":"pl-s"}],[{"start":8,"end":14,"cssClass":"pl-s1"},{"start":15,"end":16,"cssClass":"pl-c1"}],[{"start":8,"end":11,"cssClass":"pl-k"},{"start":12,"end":15,"cssClass":"pl-s1"},{"start":16,"end":18,"cssClass":"pl-c1"},{"start":19,"end":23,"cssClass":"pl-s1"}],[{"start":12,"end":18,"cssClass":"pl-s1"},{"start":19,"end":25,"cssClass":"pl-en"},{"start":26,"end":32,"cssClass":"pl-v"},{"start":33,"end":36,"cssClass":"pl-s1"},{"start":37,"end":38,"cssClass":"pl-c1"},{"start":41,"end":44,"cssClass":"pl-s1"},{"start":45,"end":46,"cssClass":"pl-c1"},{"start":49,"end":52,"cssClass":"pl-s1"},{"start":53,"end":54,"cssClass":"pl-c1"},{"start":57,"end":60,"cssClass":"pl-s1"},{"start":61,"end":62,"cssClass":"pl-c1"}],[{"start":8,"end":14,"cssClass":"pl-k"},{"start":15,"end":21,"cssClass":"pl-s1"}],[],[{"start":4,"end":7,"cssClass":"pl-k"},{"start":8,"end":32,"cssClass":"pl-en"},{"start":33,"end":37,"cssClass":"pl-s1"}],[{"start":8,"end":14,"cssClass":"pl-k"},{"start":15,"end":19,"cssClass":"pl-s1"},{"start":20,"end":23,"cssClass":"pl-s1"},{"start":24,"end":33,"cssClass":"pl-s1"}]],"csv":null,"csvError":null,"dependabotInfo":{"showConfigurationBanner":false,"configFilePath":null,"networkDependabotPath":"/UserNameBlaBlaBlaBla/InnopolysFinal/network/updates","dismissConfigurationNoticePath":"/settings/dismiss-notice/dependabot_configuration_notice","configurationNoticeDismissed":null,"repoAlertsPath":"/UserNameBlaBlaBlaBla/InnopolysFinal/security/dependabot","repoSecurityAndAnalysisPath":"/UserNameBlaBlaBlaBla/InnopolysFinal/settings/security_analysis","repoOwnerIsOrg":false,"currentUserCanAdminRepo":false},"displayName":"db.py","displayUrl":"https://github.com/UserNameBlaBlaBlaBla/InnopolysFinal/blob/main/db/db.py?raw=true","headerInfo":{"blobSize":"1.27 KB","deleteInfo":{"deleteTooltip":"You must be signed in to make or propose changes"},"editInfo":{"editTooltip":"You must be signed in to make or propose changes"},"ghDesktopPath":"https://desktop.github.com","gitLfsPath":null,"onBranch":true,"shortPath":"b05da77","siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2FUserNameBlaBlaBlaBla%2FInnopolysFinal%2Fblob%2Fmain%2Fdb%2Fdb.py","isCSV":false,"isRichtext":false,"toc":null,"lineInfo":{"truncatedLoc":"30","truncatedSloc":"24"},"mode":"file"},"image":false,"isCodeownersFile":null,"isPlain":false,"isValidLegacyIssueTemplate":false,"issueTemplateHelpUrl":"https://docs.github.com/articles/about-issue-and-pull-request-templates","issueTemplate":null,"discussionTemplate":null,"language":"Python","languageID":303,"large":false,"loggedIn":false,"newDiscussionPath":"/UserNameBlaBlaBlaBla/InnopolysFinal/discussions/new","newIssuePath":"/UserNameBlaBlaBlaBla/InnopolysFinal/issues/new","planSupportInfo":{"repoIsFork":null,"repoOwnedByCurrentUser":null,"requestFullPath":"/UserNameBlaBlaBlaBla/InnopolysFinal/blob/main/db/db.py","showFreeOrgGatedFeatureMessage":null,"showPlanSupportBanner":null,"upgradeDataAttributes":null,"upgradePath":null},"publishBannersInfo":{"dismissActionNoticePath":"/settings/dismiss-notice/publish_action_from_dockerfile","dismissStackNoticePath":"/settings/dismiss-notice/publish_stack_from_file","releasePath":"/UserNameBlaBlaBlaBla/InnopolysFinal/releases/new?marketplace=true","showPublishActionBanner":false,"showPublishStackBanner":false},"rawBlobUrl":"https://github.com/UserNameBlaBlaBlaBla/InnopolysFinal/raw/main/db/db.py","renderImageOrRaw":false,"richText":null,"renderedFileInfo":null,"shortPath":null,"tabSize":8,"topBannersInfo":{"overridingGlobalFundingFile":false,"globalPreferredFundingPath":null,"repoOwner":"UserNameBlaBlaBlaBla","repoName":"InnopolysFinal","showInvalidCitationWarning":false,"citationHelpUrl":"https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-citation-files","showDependabotConfigurationBanner":false,"actionsOnboardingTip":null},"truncated":false,"viewable":true,"workflowRedirectUrl":null,"symbols":{"timedOut":false,"notAnalyzed":false,"symbols":[{"name":"DbManager","kind":"class","identStart":43,"identEnd":52,"extentStart":37,"extentEnd":1300,"fullyQualifiedName":"DbManager","identUtf16":{"start":{"lineNumber":3,"utf16Col":6},"end":{"lineNumber":3,"utf16Col":15}},"extentUtf16":{"start":{"lineNumber":3,"utf16Col":0},"end":{"lineNumber":30,"utf16Col":0}}},{"name":"__init__","kind":"function","identStart":62,"identEnd":70,"extentStart":58,"extentEnd":198,"fullyQualifiedName":"DbManager.__init__","identUtf16":{"start":{"lineNumber":4,"utf16Col":8},"end":{"lineNumber":4,"utf16Col":16}},"extentUtf16":{"start":{"lineNumber":4,"utf16Col":4},"end":{"lineNumber":7,"utf16Col":36}}},{"name":"get_all_history","kind":"function","identStart":216,"identEnd":231,"extentStart":212,"extentEnd":341,"fullyQualifiedName":"DbManager.get_all_history","identUtf16":{"start":{"lineNumber":9,"utf16Col":8},"end":{"lineNumber":9,"utf16Col":23}},"extentUtf16":{"start":{"lineNumber":9,"utf16Col":4},"end":{"lineNumber":11,"utf16Col":22}}},{"name":"insert_history","kind":"function","identStart":363,"identEnd":377,"extentStart":359,"extentEnd":517,"fullyQualifiedName":"DbManager.insert_history","identUtf16":{"start":{"lineNumber":13,"utf16Col":8},"end":{"lineNumber":13,"utf16Col":22}},"extentUtf16":{"start":{"lineNumber":13,"utf16Col":4},"end":{"lineNumber":15,"utf16Col":25}}},{"name":"insert_result","kind":"function","identStart":535,"identEnd":548,"extentStart":531,"extentEnd":799,"fullyQualifiedName":"DbManager.insert_result","identUtf16":{"start":{"lineNumber":17,"utf16Col":8},"end":{"lineNumber":17,"utf16Col":21}},"extentUtf16":{"start":{"lineNumber":17,"utf16Col":4},"end":{"lineNumber":19,"utf16Col":25}}},{"name":"get_all_result_with_usage","kind":"function","identStart":817,"identEnd":842,"extentStart":813,"extentEnd":1217,"fullyQualifiedName":"DbManager.get_all_result_with_usage","identUtf16":{"start":{"lineNumber":21,"utf16Col":8},"end":{"lineNumber":21,"utf16Col":33}},"extentUtf16":{"start":{"lineNumber":21,"utf16Col":4},"end":{"lineNumber":26,"utf16Col":21}}},{"name":"get_last_inserted_row_id","kind":"function","identStart":1235,"identEnd":1259,"extentStart":1231,"extentEnd":1300,"fullyQualifiedName":"DbManager.get_last_inserted_row_id","identUtf16":{"start":{"lineNumber":28,"utf16Col":8},"end":{"lineNumber":28,"utf16Col":32}},"extentUtf16":{"start":{"lineNumber":28,"utf16Col":4},"end":{"lineNumber":30,"utf16Col":0}}}]}},"copilotInfo":null,"copilotAccessAllowed":false,"csrf_tokens":{"/UserNameBlaBlaBlaBla/InnopolysFinal/branches":{"post":"UjoJ6vfQsg6EF14HOqQlQiI3Y25iS-Hwjj8Dn9p6EHGKvknmbL5eACx_e6UTK4BmpPieZEk8xmoCtZYVhpOp4w"},"/repos/preferences":{"post":"XIHt3jgYiS6s912QTrEty_pV0WrfZ0Od9DkJ1EMFT1yPEyE-knQYXTU06Jy-JuM8KaaFmfja-hom1xGxDurKmQ"}}},"title":"InnopolysFinal/db/db.py at main · UserNameBlaBlaBlaBla/InnopolysFinal"}